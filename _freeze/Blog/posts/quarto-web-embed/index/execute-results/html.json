{
  "hash": "5fd806f19fd5a7f3b81cd4e2acfee5c9",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: Integrating blogs and books into a quarto website\nauthor: Zulji, Amel\ndate: '2026-01-30'\ncategories: R\nengine: knitr\n---\n\n\n\n\nQuarto makes it remarkably easy to create, manage, and deploy a wide range of publishing projects. With a single command, one can generate websites, blogs, and books. Even more powerful is Quarto’s ability to combine these individual projects into a single, coherent meta-project.\n\nIn this guide, I demonstrate how to build a personal website that seamlessly embeds both a standalone blog and a dedicated book.\n\n## Creating a website\n\nFirst, we initialize the main website project.\n\n\n\n\n::: {.cell}\n\n```{.bash .cell-code}\nquarto create project website myweb --quiet\n```\n:::\n\n\n\n\nThis command generates the basic structure of a Quarto website.\n\n\n\n\n::: {.cell}\n::: {.cell-output .cell-output-stdout}\n\n```\nmyweb\n├── _quarto.yml\n├── about.qmd\n├── index.qmd\n└── styles.css\n```\n\n\n:::\n:::\n\n\n\n\nOnce rendered, we have a clean, functional landing page.\n\n\n\n\n::: {.cell}\n\n```{.bash .cell-code}\nquarto render myweb\n```\n\n\n::: {.cell-output .cell-output-stdout}\n\n```\n\u001b[1m\u001b[34m\n[1/2] about.qmd\u001b[39m\u001b[22m\n\u001b[1m\u001b[34m\n[2/2] index.qmd\u001b[39m\u001b[22m\n\nOutput created: _site/index.html\n```\n\n\n:::\n:::\n\n\n\n\n<video width=\"100%\" height=\"auto\" autoplay loop muted playsinline>\n\n<source src=\"web.mp4\" type=\"video/mp4\">\n\n</video>\n\n## Integrating a blog\n\nNext, we add a blog within the website.\n\n\n\n\n::: {.cell}\n\n```{.bash .cell-code}\nquarto create project blog myweb/myblog myblog --quiet\n```\n:::\n\n\n\n\nThe command generates the basic structure of a Quarto blog and the website has now structure as follows:\n\n\n\n\n::: {.cell}\n::: {.cell-output .cell-output-stdout}\n\n```\nmyweb\n├── _quarto.yml\n├── _site\n│   ├── about.html\n│   ├── index.html\n│   ├── search.json\n│   ├── site_libs\n│   │   ├── bootstrap\n│   │   ├── clipboard\n│   │   ├── quarto-html\n│   │   ├── quarto-nav\n│   │   └── quarto-search\n│   └── styles.css\n├── about.qmd\n├── index.qmd\n├── myblog\n│   ├── _quarto.yml\n│   ├── about.qmd\n│   ├── index.qmd\n│   ├── posts\n│   │   ├── _metadata.yml\n│   │   ├── post-with-code\n│   │   └── welcome\n│   ├── profile.jpg\n│   └── styles.css\n└── styles.css\n```\n\n\n:::\n:::\n\n\n\n\nNow, we need to configure the main website to include the blog from sub directory. Since quarto blog itself is also a project of type website this configuration is pretty straight forward. We need to add 2 lines within `myweb/_quarto.yml`\n\n``` yaml\nproject:\n  type: website\n\nwebsite:\n  title: \"myweb\"\n  navbar:\n    left:\n      - href: index.qmd\n        text: Home\n      - about.qmd\n      - href: myblog/index.qmd                    # <1>\n  site-url: https://your-website-url.example.com  # <2>\n\nformat:\n  html:\n    theme:\n      - cosmo\n      - brand\n    css: styles.css\n    toc: true\n```\n\n1.  The link points to the blog’s listing page and exposes the blog through the main site’s navigation.\n\n2.  This is for blogs RSS feed and the link should be adjusted. Read more [here](https://quarto.org/docs/websites/website-blog.html#rss-feed)\n\nWith these changes in place, rendering the main website integrates the blog seamlessly. The blog now appears as part of the website navigation while remaining a fully functional Quarto blog with its own posts, listings, and feeds.\n\n\n\n\n::: {.cell}\n\n```{.bash .cell-code}\nquarto render myweb\n```\n\n\n::: {.cell-output .cell-output-stdout}\n\n```\n\u001b[1m\u001b[34m\n[1/6] about.qmd\u001b[39m\u001b[22m\n\u001b[1m\u001b[34m\n[2/6] index.qmd\u001b[39m\u001b[22m\n\u001b[1m\u001b[34m\n[3/6] myblog/about.qmd\u001b[39m\u001b[22m\n\u001b[1m\u001b[34m\n[4/6] myblog/index.qmd\u001b[39m\u001b[22m\n\u001b[1m\u001b[34m\n[5/6] myblog/posts/post-with-code/index.qmd\u001b[39m\u001b[22m\n\u001b[1m\u001b[34m\n[6/6] myblog/posts/welcome/index.qmd\u001b[39m\u001b[22m\n\nOutput created: _site/index.html\n```\n\n\n:::\n:::\n\n\n\n\n<video width=\"100%\" height=\"auto\" autoplay loop muted playsinline>\n\n<source src=\"web_blog.mp4\" type=\"video/mp4\">\n\n</video>\n\n## Integrating a book\n\nFinally we add book within the website\n\n\n\n\n::: {.cell}\n\n```{.bash .cell-code}\nquarto create project book myweb/notes notes --quiet\n```\n:::\n\n\n\n\nThe website structure now looks like this:\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nfs::dir_tree(\"myweb\", recurse = 2)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nmyweb\n├── _quarto.yml\n├── _site\n│   ├── about.html\n│   ├── index.html\n│   ├── listings.json\n│   ├── myblog\n│   │   ├── about.html\n│   │   ├── index.html\n│   │   ├── posts\n│   │   └── profile.jpg\n│   ├── search.json\n│   ├── site_libs\n│   │   ├── bootstrap\n│   │   ├── clipboard\n│   │   ├── quarto-html\n│   │   ├── quarto-listing\n│   │   ├── quarto-nav\n│   │   └── quarto-search\n│   └── styles.css\n├── about.qmd\n├── index.qmd\n├── myblog\n│   ├── _quarto.yml\n│   ├── about.qmd\n│   ├── index.qmd\n│   ├── posts\n│   │   ├── _metadata.yml\n│   │   ├── post-with-code\n│   │   └── welcome\n│   ├── profile.jpg\n│   └── styles.css\n├── notes\n│   ├── _quarto.yml\n│   ├── cover.png\n│   ├── index.qmd\n│   ├── intro.qmd\n│   ├── references.bib\n│   ├── references.qmd\n│   └── summary.qmd\n└── styles.css\n```\n\n\n:::\n:::\n\n\n\n\nUnlike blogs, Quarto books are **not** websites; they have their own rendering logic, chapter structure, and output directory. As a result, additional configuration is required.\n\n``` yaml\nproject:\n  type: website\n  \n  pre-render: render_book.R # <1>\n\n  render:       # <2>\n    - \"*.qmd\"   # <2>\n    - \"!notes/\" # <2>\n\n  resources: \"notes/_book\". # <3>\n\nwebsite:\n  title: \"myweb\"\n  navbar:\n    left:\n      - href: index.qmd\n        text: Home\n      - about.qmd\n      - href: myblog/index.qmd\n      - href: notes/_book/index.html # <4>\n        text: notes # <4>\n\n  site-url: https://your-website-url.example.com  \n\n\nformat:\n  html:\n    theme:\n      - cosmo\n      - brand\n    css: styles.css\n    toc: true\n```\n\n1.  Pre-render the book with a custom R script (the content of the script is shown bellow). Here is the reason why we need to prerender the book: when we run `quarto render` on the main website, Quarto attempts to render every `.qmd` it finds using the website's global configuration. However, a book needs to be rendered using its own `_quarto.yml` to preserve its chapter structure and book-specific features.\n\n2.  Render all site files except the pre-rendered book folder. We exclude rendering book at this points because it is supposed to be prerendred within its own structure.\n\n3.  Treat the rendered book output as a static resource.\n\n4.  Link to the compiled HTML entry point for navigation.\n\nBellow is the r script that is used in the pre-rendering process.\n\n``` yaml\nvar1 <- Sys.getenv(\"QUARTO_PROJECT_RENDER_ALL\") # <1>\n\nif (var1 == \"\") {. # <2>\n  quit().          # <2>\n}                  # <2>\n\nquarto::quarto_render(input = \"book/\")\n```\n\n1.  A variable specifying whether whole project is to be rendered or not. Read more [here](https://quarto.org/docs/projects/scripts.html#pre-and-post-render).\n\n2.  If the varible is `\"\"` it means quarto requested rendering a single file. In that case pre-rendering of the book is stopped. This is supper immportant as it prevents rendering whole project even if rendering only a single file was requested. Without this, whenever you would type quarto render file.qmd it will render not only that file but rather everything.\n\nWith this configuration file, we render the website and we have fully functional website with embeded blog and fully functional book.\n\n<video width=\"100%\" height=\"auto\" autoplay loop muted playsinline>\n\n<source src=\"web_blog_book.mp4\" type=\"video/mp4\">\n\n</video>\n\n\n\n\n::: {.cell}\n\n```{.bash .cell-code}\nrm -r myweb\n```\n:::\n\n\n\n\n## Wrapper\n\n``` yaml\n#!/bin/bash\n\n# 1. Capture Arguments\nif [ \"$#\" -ne 4 ]; then\n    echo \"Usage: $0 <target_dir> <web_name> <blog_name> <book_name>\"\n    echo \"Example: $0 . 'My Professional Site' 'posts' 'guidebook'\"\n    exit 1\nfi\n\nTARGET_DIR=$1\nWEB_NAME=$2\nBLOG_NAME=$3\nBOOK_NAME=$4\n\necho \"--- Initializing Meta-Project: $WEB_NAME in $TARGET_DIR ---\"\n\n# Create the projects using [dir] [name], this avoids \"$TARGET_DIR/$BLOG_NAME\" as blog name in metadata\nquarto create project website \"$TARGET_DIR\" \"$WEB_NAME\" --quiet --no-prompt\nquarto create project blog \"$TARGET_DIR/$BLOG_NAME\" \"$BLOG_NAME\" --quiet --no-prompt\nquarto create project book \"$TARGET_DIR/$BOOK_NAME\" \"$BOOK_NAME\" --quiet --no-prompt\n\n# Create the render_book.R to prerender book\ncat <<EOF > \"$TARGET_DIR/render_book.R\"\nvar1 <- Sys.getenv(\"QUARTO_PROJECT_RENDER_ALL\")\n\nif (var1 == \"\") {\n    quit()\n}\n\n# Renders the book from its subdirectory relative to this script\nquarto::quarto_render(input = \"$BOOK_NAME/\")\nEOF\n\n# configure main _quarto.yml to include blog and book\ncat <<EOF > \"$TARGET_DIR/_quarto.yml\"\nproject:\n  type: website\n  pre-render: render_book.R\n  render:\n    - \"*.qmd\"\n    - \"!$BOOK_NAME/\"\n\n  resources: \n    - \"$BOOK_NAME/_book\"\n\nwebsite:\n  title: \"$WEB_NAME\"\n  site-url: https://your-website-url.example.com\n  navbar:\n    left:\n      - href: index.qmd\n        text: Home\n      - about.qmd\n      - href: $BLOG_NAME/index.qmd\n        text: Blog\n      - href: $BOOK_NAME/_book/index.html\n        text: Book\n\nformat:\n  html:\n    theme: cosmo\n    css: styles.css\n    toc: true\nEOF\n\necho \"setup complete\"\n```\n# test\n\nThis is a new chapter why it doesnt appear in quarto \n\n\n\n#!/bin/bash\n\n# 1. Capture Arguments\nif [ \"$#\" -ne 4 ]; then\necho \"Usage: $0 <target_dir> <web_name> <blog_name> <book_name>\"\necho \"Example: $0 . 'My Professional Site' 'posts' 'guidebook'\"\nexit 1\nfi\n\nTARGET_DIR=$1\nWEB_NAME=$2\nBLOG_NAME=$3\nBOOK_NAME=$4\n\necho \"--- Initializing Meta-Project: $WEB_NAME in $TARGET_DIR ---\"\n\n# Create the projects using [dir] [name], this avoids \"$TARGET_DIR/$BLOG_NAME\" as blog name in metadata\nquarto create project website \"$TARGET_DIR\" \"$WEB_NAME\" --quiet --no-prompt\nquarto create project blog \"$TARGET_DIR/$BLOG_NAME\" \"$BLOG_NAME\" --quiet --no-prompt\nquarto create project book \"$TARGET_DIR/$BOOK_NAME\" \"$BOOK_NAME\" --quiet --no-prompt\n\n# Create the render_book.R to prerender book\ncat <<EOF > \"$TARGET_DIR/render_book.R\"\nvar1 <- Sys.getenv(\"QUARTO_PROJECT_RENDER_ALL\")\n\nif (var1 == \"\") {\n  quit()\n}\n\n# Renders the book from its subdirectory relative to this script\nquarto::quarto_render(input = \"$BOOK_NAME/\")\nEOF\n\n# configure main _quarto.yml to include blog and book\ncat <<EOF > \"$TARGET_DIR/_quarto.yml\"\nproject:\n  type: website\npre-render: render_book.R\nrender:\n  - \"*.qmd\"\n- \"!$BOOK_NAME/\"\n\nresources: \n  - \"$BOOK_NAME/_book\"\n\nwebsite:\n  title: \"$WEB_NAME\"\nsite-url: https://your-website-url.example.com\nnavbar:\n  left:\n  - href: index.qmd\ntext: Home\n- about.qmd\n- href: $BLOG_NAME/index.qmd\ntext: Blog\n- href: $BOOK_NAME/_book/index.html\ntext: Book\n\nformat:\n  html:\n  theme: cosmo\ncss: styles.css\ntoc: true\nEOF\n\necho \"setup complete\"\n\n",
    "supporting": [
      "index_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}